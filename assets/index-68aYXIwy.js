var _n=Object.defineProperty;var mr=e=>{throw TypeError(e)};var bn=(e,t,r)=>t in e?_n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var E=(e,t,r)=>bn(e,typeof t!="symbol"?t+"":t,r),_r=(e,t,r)=>t.has(e)||mr("Cannot "+r);var F=(e,t,r)=>(_r(e,t,"read from private field"),r?r.call(e):t.get(e)),ke=(e,t,r)=>t.has(e)?mr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var ut=(e,t,r)=>(_r(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const br=!1;var nr=Array.isArray,yn=Array.prototype.indexOf,ar=Array.from,Nr=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,wn=Object.getOwnPropertyDescriptors,xn=Object.prototype,En=Array.prototype,Cr=Object.getPrototypeOf,yr=Object.isExtensible;const De=()=>{};function Sn(e){return e()}function zt(e){for(var t=0;t<e.length;t++)e[t]()}const ne=2,Lr=4,kt=8,ir=16,de=32,Be=64,pt=128,Y=256,vt=512,B=1024,ie=2048,we=4096,ce=8192,Ot=16384,An=32768,Pt=65536,Ir=1<<19,Dr=1<<20,Wt=1<<21,je=Symbol("$state"),$n=Symbol("legacy props");function jr(e){return e===this.v}function Fr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Mr(e){return!Fr(e,this.v)}function kn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function On(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Pn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Rn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Tn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Nn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Cn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let at=!1,Ln=!1;function In(){at=!0}const sr=1,or=2,Gr=4,Dn=8,jn=16,Fn=1,Mn=2,J=Symbol();function Ur(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let L=null;function wr(e){L=e}function he(e,t=!1,r){var n=L={p:L,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};at&&!t&&(L.l={s:null,u:null,r1:[],r2:Ye(!1)}),ur(()=>{n.d=!0})}function pe(e){const t=L;if(t!==null){const s=t.e;if(s!==null){var r=T,n=N;t.e=null;try{for(var i=0;i<s.length;i++){var a=s[i];ye(a.effect),se(a.reaction),Qr(a.fn)}}finally{ye(r),se(n)}}L=t.p,t.m=!0}return{}}function it(){return!at||L!==null&&L.l===null}function le(e){if(typeof e!="object"||e===null||je in e)return e;const t=Cr(e);if(t!==xn&&t!==En)return e;var r=new Map,n=nr(e),i=G(0),a=N,s=o=>{var l=N;se(a);var u=o();return se(l),u};return n&&r.set("length",G(e.length)),new Proxy(e,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Tn();var f=r.get(l);return f===void 0?(f=s(()=>G(u.value)),r.set(l,f)):m(f,s(()=>le(u.value))),!0},deleteProperty(o,l){var u=r.get(l);if(u===void 0)l in o&&(r.set(l,s(()=>G(J))),Gt(i));else{if(n&&typeof l=="string"){var f=r.get("length"),d=Number(l);Number.isInteger(d)&&d<f.v&&m(f,d)}m(u,J),Gt(i)}return!0},get(o,l,u){var p;if(l===je)return e;var f=r.get(l),d=l in o;if(f===void 0&&(!d||(p=Ie(o,l))!=null&&p.writable)&&(f=s(()=>G(le(d?o[l]:J))),r.set(l,f)),f!==void 0){var c=h(f);return c===J?void 0:c}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var f=r.get(l);f&&(u.value=h(f))}else if(u===void 0){var d=r.get(l),c=d==null?void 0:d.v;if(d!==void 0&&c!==J)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(o,l){var c;if(l===je)return!0;var u=r.get(l),f=u!==void 0&&u.v!==J||Reflect.has(o,l);if(u!==void 0||T!==null&&(!f||(c=Ie(o,l))!=null&&c.writable)){u===void 0&&(u=s(()=>G(f?le(o[l]):J)),r.set(l,u));var d=h(u);if(d===J)return!1}return f},set(o,l,u,f){var S;var d=r.get(l),c=l in o;if(n&&l==="length")for(var p=u;p<d.v;p+=1){var v=r.get(p+"");v!==void 0?m(v,J):p in o&&(v=s(()=>G(J)),r.set(p+"",v))}d===void 0?(!c||(S=Ie(o,l))!=null&&S.writable)&&(d=s(()=>G(void 0)),m(d,s(()=>le(u))),r.set(l,d)):(c=d.v!==J,m(d,s(()=>le(u))));var $=Reflect.getOwnPropertyDescriptor(o,l);if($!=null&&$.set&&$.set.call(f,u),!c){if(n&&typeof l=="string"){var b=r.get("length"),w=Number(l);Number.isInteger(w)&&w>=b.v&&m(b,w+1)}Gt(i)}return!0},ownKeys(o){h(i);var l=Reflect.ownKeys(o).filter(d=>{var c=r.get(d);return c===void 0||c.v!==J});for(var[u,f]of r)f.v!==J&&!(u in o)&&l.push(u);return l},setPrototypeOf(){Nn()}})}function Gt(e,t=1){m(e,e.v+t)}function Rt(e){var t=ne|ie,r=N!==null&&(N.f&ne)!==0?N:null;return T===null||r!==null&&(r.f&Y)!==0?t|=Y:T.f|=Dr,{ctx:L,deps:null,effects:null,equals:jr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??T}}function lr(e){const t=Rt(e);return t.equals=Mr,t}function Hr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)be(t[r])}}function Gn(e){for(var t=e.parent;t!==null;){if((t.f&ne)===0)return t;t=t.parent}return null}function Br(e){var t,r=T;ye(Gn(e));try{Hr(e),t=on(e)}finally{ye(r)}return t}function Vr(e){var t=Br(e),r=(_e||(e.f&Y)!==0)&&e.deps!==null?we:B;q(e,r),e.equals(t)||(e.v=t,e.wv=an())}const We=new Map;function Ye(e,t){var r={f:0,v:e,reactions:null,equals:jr,rv:0,wv:0};return r}function G(e,t){const r=Ye(e);return Qn(r),r}function I(e,t=!1){var n;const r=Ye(e);return t||(r.equals=Mr),at&&L!==null&&L.l!==null&&((n=L.l).s??(n.s=[])).push(r),r}function m(e,t,r=!1){N!==null&&!ae&&it()&&(N.f&(ne|ir))!==0&&!(H!=null&&H.includes(e))&&Cn();let n=r?le(t):t;return Yt(e,n)}function Yt(e,t){if(!e.equals(t)){var r=e.v;ot?We.set(e,t):We.set(e,r),e.v=t,(e.f&ne)!==0&&((e.f&ie)!==0&&Br(e),q(e,(e.f&Y)===0?B:we)),e.wv=an(),Jr(e,ie),it()&&T!==null&&(T.f&B)!==0&&(T.f&(de|Be))===0&&(X===null?Xn([e]):X.push(e))}return t}function Jr(e,t){var r=e.reactions;if(r!==null)for(var n=it(),i=r.length,a=0;a<i;a++){var s=r[a],o=s.f;(o&ie)===0&&(!n&&s===T||(q(s,t),(o&(B|Y))!==0&&((o&ne)!==0?Jr(s,we):Dt(s))))}}let Un=!1;var xr,Kr,zr,Wr;function Hn(){if(xr===void 0){xr=window,Kr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;zr=Ie(t,"firstChild").get,Wr=Ie(t,"nextSibling").get,yr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),yr(r)&&(r.__t=void 0)}}function Tt(e=""){return document.createTextNode(e)}function gt(e){return zr.call(e)}function Nt(e){return Wr.call(e)}function A(e,t){return gt(e)}function Fe(e,t){{var r=gt(e);return r instanceof Comment&&r.data===""?Nt(r):r}}function _(e,t=1,r=!1){let n=e;for(;t--;)n=Nt(n);return n}function Bn(e){e.textContent=""}function Yr(e){T===null&&N===null&&Pn(),N!==null&&(N.f&Y)!==0&&T===null&&On(),ot&&kn()}function Vn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ve(e,t,r,n=!0){var i=T,a={ctx:L,deps:null,nodes_start:null,nodes_end:null,f:e|ie,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{It(a),a.f|=An}catch(l){throw be(a),l}else t!==null&&Dt(a);var s=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Dr|pt))===0;if(!s&&n&&(i!==null&&Vn(a,i),N!==null&&(N.f&ne)!==0)){var o=N;(o.effects??(o.effects=[])).push(a)}return a}function ur(e){const t=Ve(kt,null,!1);return q(t,B),t.teardown=e,t}function Qt(e){Yr();var t=T!==null&&(T.f&de)!==0&&L!==null&&!L.m;if(t){var r=L;(r.e??(r.e=[])).push({fn:e,effect:T,reaction:N})}else{var n=Qr(e);return n}}function Jn(e){return Yr(),Ct(e)}function Kn(e){const t=Ve(Be,e,!0);return(r={})=>new Promise(n=>{r.outro?Xe(t,()=>{be(t),n(void 0)}):(be(t),n(void 0))})}function Qr(e){return Ve(Lr,e,!1)}function Qe(e,t){var r=L,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Ct(()=>{e(),!n.ran&&(n.ran=!0,m(r.l.r2,!0),Pe(t))})}function cr(){var e=L;Ct(()=>{if(h(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&B)!==0&&q(r,we),Je(r)&&It(r),t.ran=!1}e.l.r2.v=!1}})}function Ct(e){return Ve(kt,e,!0)}function re(e,t=[],r=Rt){const n=t.map(r);return st(()=>e(...n.map(h)))}function st(e,t=0){return Ve(kt|ir|t,e,!0)}function He(e,t=!0){return Ve(kt|de,e,!0,t)}function Xr(e){var t=e.teardown;if(t!==null){const r=ot,n=N;Er(!0),se(null);try{t.call(null)}finally{Er(r),se(n)}}}function Zr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Be)!==0?r.parent=null:be(r,t),r=n}}function zn(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&de)===0&&be(t),t=r}}function be(e,t=!0){var r=!1;(t||(e.f&Ir)!==0)&&e.nodes_start!==null&&(Wn(e.nodes_start,e.nodes_end),r=!0),Zr(e,t&&!r),wt(e,0),q(e,Ot);var n=e.transitions;if(n!==null)for(const a of n)a.stop();Xr(e);var i=e.parent;i!==null&&i.first!==null&&qr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Wn(e,t){for(;e!==null;){var r=e===t?null:Nt(e);e.remove(),e=r}}function qr(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Xe(e,t){var r=[];fr(e,r,!0),en(r,()=>{be(e),t&&t()})}function en(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function fr(e,t,r){if((e.f&ce)===0){if(e.f^=ce,e.transitions!==null)for(const s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var i=n.next,a=(n.f&Pt)!==0||(n.f&de)!==0;fr(n,t,a?r:!1),n=i}}}function mt(e){tn(e,!0)}function tn(e,t){if((e.f&ce)!==0){e.f^=ce,(e.f&B)===0&&(e.f^=B),Je(e)&&(q(e,ie),Dt(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Pt)!==0||(r.f&de)!==0;tn(r,i?t:!1),r=n}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let _t=[];function Yn(){var e=_t;_t=[],zt(e)}function rn(e){_t.length===0&&queueMicrotask(Yn),_t.push(e)}let ft=!1,Xt=!1,bt=null,Oe=!1,ot=!1;function Er(e){ot=e}let dt=[];let N=null,ae=!1;function se(e){N=e}let T=null;function ye(e){T=e}let H=null;function Qn(e){N!==null&&N.f&Wt&&(H===null?H=[e]:H.push(e))}let U=null,z=0,X=null;function Xn(e){X=e}let nn=1,yt=0,_e=!1;function an(){return++nn}function Je(e){var d;var t=e.f;if((t&ie)!==0)return!0;if((t&we)!==0){var r=e.deps,n=(t&Y)!==0;if(r!==null){var i,a,s=(t&vt)!==0,o=n&&T!==null&&!_e,l=r.length;if(s||o){var u=e,f=u.parent;for(i=0;i<l;i++)a=r[i],(s||!((d=a==null?void 0:a.reactions)!=null&&d.includes(u)))&&(a.reactions??(a.reactions=[])).push(u);s&&(u.f^=vt),o&&f!==null&&(f.f&Y)===0&&(u.f^=Y)}for(i=0;i<l;i++)if(a=r[i],Je(a)&&Vr(a),a.wv>e.wv)return!0}(!n||T!==null&&!_e)&&q(e,B)}return!1}function Zn(e,t){for(var r=t;r!==null;){if((r.f&pt)!==0)try{r.fn(e);return}catch{r.f^=pt}r=r.parent}throw ft=!1,e}function Sr(e){return(e.f&Ot)===0&&(e.parent===null||(e.parent.f&pt)===0)}function Lt(e,t,r,n){if(ft){if(r===null&&(ft=!1),Sr(t))throw e;return}if(r!==null&&(ft=!0),Zn(e,t),Sr(t))throw e}function sn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];H!=null&&H.includes(e)||((a.f&ne)!==0?sn(a,t,!1):t===a&&(r?q(a,ie):(a.f&B)!==0&&q(a,we),Dt(a)))}}function on(e){var p;var t=U,r=z,n=X,i=N,a=_e,s=H,o=L,l=ae,u=e.f;U=null,z=0,X=null,_e=(u&Y)!==0&&(ae||!Oe||N===null),N=(u&(de|Be))===0?e:null,H=null,wr(e.ctx),ae=!1,yt++,e.f|=Wt;try{var f=(0,e.fn)(),d=e.deps;if(U!==null){var c;if(wt(e,z),d!==null&&z>0)for(d.length=z+U.length,c=0;c<U.length;c++)d[z+c]=U[c];else e.deps=d=U;if(!_e)for(c=z;c<d.length;c++)((p=d[c]).reactions??(p.reactions=[])).push(e)}else d!==null&&z<d.length&&(wt(e,z),d.length=z);if(it()&&X!==null&&!ae&&d!==null&&(e.f&(ne|we|ie))===0)for(c=0;c<X.length;c++)sn(X[c],e);return i!==null&&i!==e&&(yt++,X!==null&&(n===null?n=X:n.push(...X))),f}finally{U=t,z=r,X=n,N=i,_e=a,H=s,wr(o),ae=l,e.f^=Wt}}function qn(e,t){let r=t.reactions;if(r!==null){var n=yn.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&ne)!==0&&(U===null||!U.includes(t))&&(q(t,we),(t.f&(Y|vt))===0&&(t.f^=vt),Hr(t),wt(t,0))}function wt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)qn(e,r[n])}function It(e){var t=e.f;if((t&Ot)===0){q(e,B);var r=T,n=L,i=Oe;T=e,Oe=!0;try{(t&ir)!==0?zn(e):Zr(e),Xr(e);var a=on(e);e.teardown=typeof a=="function"?a:null,e.wv=nn;var s=e.deps,o;br&&Ln&&e.f&ie}catch(l){Lt(l,e,r,n||e.ctx)}finally{Oe=i,T=r}}}function ea(){try{Rn()}catch(e){if(bt!==null)Lt(e,bt,null);else throw e}}function ta(){var e=Oe;try{var t=0;for(Oe=!0;dt.length>0;){t++>1e3&&ea();var r=dt,n=r.length;dt=[];for(var i=0;i<n;i++){var a=na(r[i]);ra(a)}We.clear()}}finally{Xt=!1,Oe=e,bt=null}}function ra(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(Ot|ce))===0)try{Je(n)&&(It(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?qr(n):n.fn=null))}catch(i){Lt(i,n,null,n.ctx)}}}function Dt(e){Xt||(Xt=!0,queueMicrotask(ta));for(var t=bt=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Be|de))!==0){if((r&B)===0)return;t.f^=B}}dt.push(t)}function na(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(de|Be))!==0,a=i&&(n&B)!==0;if(!a&&(n&ce)===0){if((n&Lr)!==0)t.push(r);else if(i)r.f^=B;else try{Je(r)&&It(r)}catch(l){Lt(l,r,null,r.ctx)}var s=r.first;if(s!==null){r=s;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)r=o.next,o=o.parent}return t}function h(e){var t=e.f,r=(t&ne)!==0;if(N!==null&&!ae){if(!(H!=null&&H.includes(e))){var n=N.deps;e.rv<yt&&(e.rv=yt,U===null&&n!==null&&n[z]===e?z++:U===null?U=[e]:(!_e||!U.includes(e))&&U.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,a=i.parent;a!==null&&(a.f&Y)===0&&(i.f^=Y)}return r&&(i=e,Je(i)&&Vr(i)),ot&&We.has(e)?We.get(e):e.v}function Pe(e){var t=ae;try{return ae=!0,e()}finally{ae=t}}const aa=-7169;function q(e,t){e.f=e.f&aa|t}function ia(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(je in e)Zt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&je in r&&Zt(r)}}}function Zt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Zt(e[n],t)}catch{}const r=Cr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=wn(r);for(let i in n){const a=n[i].get;if(a)try{a.call(e)}catch{}}}}}const sa=["touchstart","touchmove"];function oa(e){return sa.includes(e)}let Ar=!1;function la(){Ar||(Ar=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function ln(e){var t=N,r=T;se(null),ye(null);try{return e()}finally{se(t),ye(r)}}function ua(e,t,r,n=r){e.addEventListener(t,()=>ln(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),la()}const ca=new Set,$r=new Set;function fa(e,t,r,n={}){function i(a){if(n.capture||ze.call(t,a),!a.cancelBubble)return ln(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?rn(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function Me(e,t,r,n,i){var a={capture:n,passive:i},s=fa(e,t,r,a);(t===document.body||t===window||t===document)&&ur(()=>{t.removeEventListener(e,s,a)})}function ze(e){var S;var t=this,r=t.ownerDocument,n=e.type,i=((S=e.composedPath)==null?void 0:S.call(e))||[],a=i[0]||e.target,s=0,o=e.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;l<=u&&(s=l)}if(a=i[s]||e.target,a!==t){Nr(e,"currentTarget",{configurable:!0,get(){return a||r}});var f=N,d=T;se(null),ye(null);try{for(var c,p=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var $=a["__"+n];if($!=null&&(!a.disabled||e.target===a))if(nr($)){var[b,...w]=$;b.apply(a,[e,...w])}else $.call(a,e)}catch(y){c?p.push(y):c=y}if(e.cancelBubble||v===t||v===null)break;a=v}if(c){for(let y of p)queueMicrotask(()=>{throw y});throw c}}finally{e.__root=t,delete e.currentTarget,se(f),ye(d)}}}function da(e){var t;t=document.head.appendChild(Tt());try{st(()=>e(t),Ir)}finally{}}function ha(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function qt(e,t){var r=T;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function C(e,t){var r=(t&Fn)!==0,n=(t&Mn)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=ha(a?e:"<!>"+e),r||(i=gt(i)));var s=n||Kr?document.importNode(i,!0):i.cloneNode(!0);if(r){var o=gt(s),l=s.lastChild;qt(o,l)}else qt(s,s);return s}}function pa(e,t){var r=C(e,t);return()=>va(r())}function va(e){const t=e.nodeType===11,r=e.tagName==="SCRIPT"?[e]:e.querySelectorAll("script"),n=T;for(const a of r){const s=document.createElement("script");for(var i of a.attributes)s.setAttribute(i.name,i.value);s.textContent=a.textContent,(t?e.firstChild===a:e===a)&&(n.nodes_start=s),(t?e.lastChild===a:e===a)&&(n.nodes_end=s),a.replaceWith(s)}return e}function ga(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Tt();return e.append(t,r),qt(t,r),e}function R(e,t){e!==null&&e.before(t)}function j(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ma(e,t){return _a(e,t)}const Ce=new Map;function _a(e,{target:t,anchor:r,props:n={},events:i,context:a,intro:s=!0}){Hn();var o=new Set,l=d=>{for(var c=0;c<d.length;c++){var p=d[c];if(!o.has(p)){o.add(p);var v=oa(p);t.addEventListener(p,ze,{passive:v});var $=Ce.get(p);$===void 0?(document.addEventListener(p,ze,{passive:v}),Ce.set(p,1)):Ce.set(p,$+1)}}};l(ar(ca)),$r.add(l);var u=void 0,f=Kn(()=>{var d=r??t.appendChild(Tt());return He(()=>{if(a){he({});var c=L;c.c=a}i&&(n.$$events=i),u=e(d,n)||{},a&&pe()}),()=>{var v;for(var c of o){t.removeEventListener(c,ze);var p=Ce.get(c);--p===0?(document.removeEventListener(c,ze),Ce.delete(c)):Ce.set(c,p)}$r.delete(l),d!==r&&((v=d.parentNode)==null||v.removeChild(d))}});return ba.set(u,f),u}let ba=new WeakMap;function W(e,t,[r,n]=[0,0]){var i=e,a=null,s=null,o=J,l=r>0?Pt:0,u=!1;const f=(c,p=!0)=>{u=!0,d(p,c)},d=(c,p)=>{o!==(o=c)&&(o?(a?mt(a):p&&(a=He(()=>p(i))),s&&Xe(s,()=>{s=null})):(s?mt(s):p&&(s=He(()=>p(i,[r+1,n]))),a&&Xe(a,()=>{a=null})))};st(()=>{u=!1,t(f),u||d(null,null)},l)}function un(e,t){return t}function ya(e,t,r,n){for(var i=[],a=t.length,s=0;s<a;s++)fr(t[s].e,i,!0);var o=a>0&&i.length===0&&r!==null;if(o){var l=r.parentNode;Bn(l),l.append(r),n.clear(),ge(e,t[0].prev,t[a-1].next)}en(i,()=>{for(var u=0;u<a;u++){var f=t[u];o||(n.delete(f.k),ge(e,f.prev,f.next)),be(f.e,!o)}})}function cn(e,t,r,n,i,a=null){var s=e,o={flags:t,items:new Map,first:null},l=(t&Gr)!==0;if(l){var u=e;s=u.appendChild(Tt())}var f=null,d=!1,c=lr(()=>{var p=r();return nr(p)?p:p==null?[]:ar(p)});st(()=>{var p=h(c),v=p.length;d&&v===0||(d=v===0,wa(p,o,s,i,t,n,r),a!==null&&(v===0?f?mt(f):f=He(()=>a(s)):f!==null&&Xe(f,()=>{f=null})),h(c))})}function wa(e,t,r,n,i,a,s){var ve,xe,Ee,Se;var o=(i&Dn)!==0,l=(i&(sr|or))!==0,u=e.length,f=t.items,d=t.first,c=d,p,v=null,$,b=[],w=[],S,y,x,k;if(o)for(k=0;k<u;k+=1)S=e[k],y=a(S,k),x=f.get(y),x!==void 0&&((ve=x.a)==null||ve.measure(),($??($=new Set)).add(x));for(k=0;k<u;k+=1){if(S=e[k],y=a(S,k),x=f.get(y),x===void 0){var O=c?c.e.nodes_start:r;v=Ea(O,t,v,v===null?t.first:v.next,S,y,k,n,i,s),f.set(y,v),b=[],w=[],c=v.next;continue}if(l&&xa(x,S,k,i),(x.e.f&ce)!==0&&(mt(x.e),o&&((xe=x.a)==null||xe.unfix(),($??($=new Set)).delete(x))),x!==c){if(p!==void 0&&p.has(x)){if(b.length<w.length){var P=w[0],D;v=P.prev;var ee=b[0],M=b[b.length-1];for(D=0;D<b.length;D+=1)kr(b[D],P,r);for(D=0;D<w.length;D+=1)p.delete(w[D]);ge(t,ee.prev,M.next),ge(t,v,ee),ge(t,M,P),c=P,v=M,k-=1,b=[],w=[]}else p.delete(x),kr(x,c,r),ge(t,x.prev,x.next),ge(t,x,v===null?t.first:v.next),ge(t,v,x),v=x;continue}for(b=[],w=[];c!==null&&c.k!==y;)(c.e.f&ce)===0&&(p??(p=new Set)).add(c),w.push(c),c=c.next;if(c===null)continue;x=c}b.push(x),v=x,c=x.next}if(c!==null||p!==void 0){for(var K=p===void 0?[]:ar(p);c!==null;)(c.e.f&ce)===0&&K.push(c),c=c.next;var V=K.length;if(V>0){var oe=(i&Gr)!==0&&u===0?r:null;if(o){for(k=0;k<V;k+=1)(Ee=K[k].a)==null||Ee.measure();for(k=0;k<V;k+=1)(Se=K[k].a)==null||Se.fix()}ya(t,K,oe,f)}}o&&rn(()=>{var Te;if($!==void 0)for(x of $)(Te=x.a)==null||Te.apply()}),T.first=t.first&&t.first.e,T.last=v&&v.e}function xa(e,t,r,n){(n&sr)!==0&&Yt(e.v,t),(n&or)!==0?Yt(e.i,r):e.i=r}function Ea(e,t,r,n,i,a,s,o,l,u){var f=(l&sr)!==0,d=(l&jn)===0,c=f?d?I(i):Ye(i):i,p=(l&or)===0?s:Ye(s),v={i:p,v:c,k:a,a:null,e:null,prev:r,next:n};try{return v.e=He(()=>o(e,c,p,u),Un),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?t.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function kr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==n;){var s=Nt(a);i.before(a),a=s}}function ge(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Sa(e,t,r){var n=e,i,a;st(()=>{i!==(i=t())&&(a&&(Xe(a),a=null),i&&(a=He(()=>r(n,i))))},Pt)}function Aa(e,t,r){var n=e==null?"":""+e;return n===""?null:n}function $a(e,t,r,n,i,a){var s=e.__className;if(s!==r||s===void 0){var o=Aa(r);o==null?e.removeAttribute("class"):e.className=o,e.__className=r}return a}function ue(e,t,r=t){var n=it();ua(e,"input",i=>{var a=i?e.defaultValue:e.value;if(a=Ut(e)?Ht(a):a,r(a),n&&a!==(a=t())){var s=e.selectionStart,o=e.selectionEnd;e.value=a??"",o!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(o,e.value.length))}}),Pe(t)==null&&e.value&&r(Ut(e)?Ht(e.value):e.value),Ct(()=>{var i=t();Ut(e)&&i===Ht(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Ut(e){var t=e.type;return t==="number"||t==="range"}function Ht(e){return e===""?null:+e}function ka(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Re(e=!1){const t=L,r=t.l.u;if(!r)return;let n=()=>ia(t.s);if(e){let i=0,a={};const s=Rt(()=>{let o=!1;const l=t.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],o=!0);return o&&i++,i});n=()=>h(s)}r.b.length&&Jn(()=>{Or(t,n),zt(r.b)}),Qt(()=>{const i=Pe(()=>r.m.map(Sn));return()=>{for(const a of i)typeof a=="function"&&a()}}),r.a.length&&Qt(()=>{Or(t,n),zt(r.a)})}function Or(e,t){if(e.l.s)for(const r of e.l.s)h(r);t()}function fn(e,t,r){if(e==null)return t(void 0),De;const n=Pe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Le=[];function Oa(e,t=De){let r=null;const n=new Set;function i(o){if(Fr(e,o)&&(e=o,r)){const l=!Le.length;for(const u of n)u[1](),Le.push(u,e);if(l){for(let u=0;u<Le.length;u+=2)Le[u][0](Le[u+1]);Le.length=0}}}function a(o){i(o(e))}function s(o,l=De){const u=[o,l];return n.add(u),n.size===1&&(r=t(i,a)||De),o(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:i,update:a,subscribe:s}}function Pa(e){let t;return fn(e,r=>t=r)(),t}let ct=!1,er=Symbol();function dr(e,t,r){const n=r[t]??(r[t]={store:null,source:I(void 0),unsubscribe:De});if(n.store!==e&&!(er in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=De;else{var i=!0;n.unsubscribe=fn(e,a=>{i?n.source.v=a:m(n.source,a)}),i=!1}return e&&er in r?Pa(e):h(n.source)}function hr(){const e={};function t(){ur(()=>{for(var r in e)e[r].unsubscribe();Nr(e,er,{enumerable:!1,value:!0})})}return[e,t]}function Ra(e){var t=ct;try{return ct=!1,[e(),ct]}finally{ct=t}}const Ta={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Na(e,t,r){return new Proxy({props:e,exclude:t},Ta)}function Pr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Ca(e,t,r,n){var w;var i=!1,a;[a,i]=Ra(()=>e[t]);var s=je in e||$n in e,o=(((w=Ie(e,t))==null?void 0:w.set)??(s&&t in e&&(S=>e[t]=S)))||void 0,l=n,u=!0,f=!1,d=()=>(f=!0,u&&(u=!1,l=n),l),c;if(c=()=>{var S=e[t];return S===void 0?d():(u=!0,f=!1,S)},o){var p=e.$$legacy;return function(S,y){return arguments.length>0?((!y||p||i)&&o(y?c():S),S):c()}}var v=!1,$=I(a),b=Rt(()=>{var S=c(),y=h($);return v?(v=!1,y):$.v=S});return h(b),function(S,y){if(arguments.length>0){const x=y?h(b):le(S);if(!b.equals(x)){if(v=!0,m($,x),f&&l!==void 0&&(l=x),Pr(b))return S;Pe(()=>h(b))}return S}return Pr(b)?b.v:h(b)}}function lt(e){L===null&&Ur(),at&&L.l!==null?Ia(L).m.push(e):Qt(()=>{const t=Pe(e);if(typeof t=="function")return t})}function La(e){L===null&&Ur(),lt(()=>()=>Pe(e))}function Ia(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Da="5";var Tr;typeof window<"u"&&((Tr=window.__svelte??(window.__svelte={})).v??(Tr.v=new Set)).add(Da);In();const g={string:"string",number:"number",boolean:"boolean",null:"null",undefined:"undefined",regexp:"regexp",function:"function",object:"object",array:"array",promise:"promise",unknown:"unknown"},Bt=e=>e===null?g.null:e===void 0?g.undefined:e instanceof RegExp?g.regexp:typeof e=="string"?g.string:typeof e=="number"?g.number:typeof e=="boolean"?g.boolean:Array.isArray(e)?g.array:typeof e=="function"?g.function:typeof e=="object"?g.object:g.unknown,fe=e=>{var t;if(typeof e=="string"){if(e.match(/^[\d.-]+$/))return Number.isNaN(Number.parseFloat(e))?Number.isNaN(Number.parseInt(e))?{identity:g.string,value:e}:{identity:g.number,value:Number.parseInt(e)}:{identity:g.number,value:Number.parseFloat(e)};if(!e.includes(",")&&(e.includes("&")||e.includes("="))){const r=e.split(/[&,]/),n={};for(const i of r){if(!i.includes("="))continue;const[a,s]=i.split("="),o=a.replace(/\[\d*\]$/,""),l=fe(s);if(a.includes("[")){Array.isArray(n[o])||(n[o]=[]);const u=(t=a.match(/\[(\d+)\]/))==null?void 0:t[1];u?(Array.isArray(n[o])||(n[o]=[]),n[o].push([parseInt(u),l.value])):n[o].push(l.value)}else n[o]=l.value}for(const[i,a]of Object.entries(n))Array.isArray(a)&&a.length>0&&Array.isArray(a[0])&&(n[i]=a.sort((s,o)=>s[0]-o[0]).map(([,s])=>s));return{identity:g.object,value:n}}else if(e.includes("&")&&e.includes("=")){const r={};for(const n of e.split("&")){if(!n.includes("="))continue;const[i,a]=n.split("=");r[i]=a}return{identity:g.object,value:r}}else if(e.match(/^[0-9a-z]+\[\d+\]=.+$/)){const[,r,n]=e.match(/^[0-9a-z]+\[(\d+)\]=(.+)$/)||[];if(r!==void 0&&n!==void 0){const i=[],a=fe(n);return i[parseInt(r,10)]=a.value,{identity:g.array,value:i}}}else if(e.match(/^[0-9a-z]+\[\]$/))return{identity:g.array,value:e};return e.match(/^true$/i)?{identity:g.boolean,value:!0}:e.match(/^false$/i)?{identity:g.boolean,value:!1}:{identity:g.string,value:e}}else{if(typeof e=="number")return{identity:g.number,value:e};if(e instanceof RegExp)return{identity:g.regexp,value:e};if(typeof e=="boolean")return{identity:g.boolean,value:e};if(e===null)return{identity:g.null,value:null};if(e===void 0)return{identity:g.undefined,value:void 0};if(Array.isArray(e))return{identity:g.array,value:e};if(typeof e=="object"){const r=Object.entries(e).reduce((n,[i,a])=>{var s;return n[i]=(s=fe(a))==null?void 0:s.value,n},{});return{identity:g.object,value:r}}else{if(typeof e=="function")return{identity:g.function,value:e};if(e instanceof Promise)return{identity:g.promise,value:e}}}throw new Error(`unable to marshal value: ${e} (it is neither a string, number, boolean, nor a regular expression)`)},Vt=["exact-match","base-match","default-match","permitted-no-conditions"];var Ze;(function(e){e.any={[g.string]:(t,r)=>t===r,[g.number]:(t,r)=>t===r,[g.boolean]:(t,r)=>t===r,[g.promise]:(t,r)=>t===r,[g.function]:(t,r)=>t===r,[g.null]:(t,r)=>t===r,[g.undefined]:(t,r)=>t===r,[g.unknown]:(t,r)=>t===r,[g.array]:(t,r)=>Array.isArray(t)&&Array.isArray(r)&&t.length===r.length&&t.every((n,i)=>e.any[Bt(n)](n,r[i])),[g.object]:(t,r)=>{if(typeof t!="object"||typeof r!="object")return!1;const n=Object.keys(t),i=Object.keys(r);return n.length!==i.length?!1:n.every(a=>e.any[Bt(t[a])](t[a],r[a]))},[g.regexp]:(t,r)=>{const n=t.exec(r);return n?n.groups?fe(n.groups).value:n.length===1&&n[0]===n.input?!0:fe(n.slice(1)[0]).value:!1}},e.valid={[g.string]:t=>t.length>0,[g.boolean]:t=>t===!1,[g.number]:t=>!isNaN(t),[g.array]:t=>Array.isArray(t)&&t.length>0,[g.object]:t=>{if(typeof t!="object"||t===null)return!0;const r=Object.keys(t);return r.length===0?!0:r.every(i=>{const a=t[i],s=Bt(a);return e.valid[s](a)})},[g.regexp]:t=>t instanceof RegExp,[g.function]:t=>typeof t=="function",[g.null]:()=>!1,[g.undefined]:()=>!1}})(Ze||(Ze={}));const ja=(e,t)=>{const r=new URL(e,window.location.origin);t&&Object.entries(t).forEach(([n,i])=>{r.searchParams.set(n,i)}),window.history.pushState({},"",r.toString())};class xt{constructor(t){E(this,"params",{});E(this,"original");if(typeof t=="string"&&(this.original=t),t){const r=fe(t);r.value&&(this.params=r.value)}}get(t,r){return this.params[t]||r}set(t,r){}delete(t){delete this.params[t]}clear(){this.params={}}goto(t){ja(t,this.params)}test(t){if(typeof t=="object"){const r={};for(const[n,i]of Object.entries(t.params))if(this.params[n]){const a=fe(this.params[n]);if(i instanceof RegExp){const s=Ze.any[g.regexp](i,this.params[n]);if(s)r[n]=s;else return{condition:"no-match"}}else a.identity===g.number?a.value===this.params[n]&&(r[n]=a.value):a.identity===g.string?r[n]=a.value===this.params[n]:a.identity===g.boolean?r[n]=a.value===!!this.params[n]:a.identity===g.array&&(r[n]=a.value.includes(this.params[n]))}else return{condition:"no-match"};return Object.keys(r).length===Object.keys(t).length&&Ze.valid[g.object](r)?{condition:"exact-match",matches:fe(r).value}:{condition:Object.keys(r).length>1&&Object.keys(t).length!==Object.keys(r).length?"exact-match":"no-match",matches:r}}}toString(){const t=r=>Array.isArray(r)?r.map(n=>t(n)).join(","):typeof r=="object"&&r!==null?Object.entries(r).map(([n,i])=>`${n}:${t(i)}`).join(","):encodeURIComponent(r);return Object.entries(this.params).map(([r,n])=>`${encodeURIComponent(r)}=${t(n)}`).join("&")}toJSON(t){return Object.fromEntries(Object.entries(this.params).map(([r,n])=>[r,n.toString()]))}}var Et;(function(e){e.parse=t=>{if(t){const[r,n=""]=t.split("#"),[i,a=""]=n.split("?");return{path:i,query:new xt(a),hash:n}}}})(Et||(Et={}));const St=e=>(e&&!e.startsWith("/")&&(e="/"+e),e);var At;(function(e){e.parse=t=>{if(t===void 0||t.length===0)throw new Error(`invalid URL: ${t}`);if(t.includes("://")){const[n,i]=t.split("://"),a=i.match(/^([^/:]+)(?::(\d+))?(.*)$/),[s,o,l]=(a==null?void 0:a.slice(1))??[],[u,f=""]=(l||"").split("?"),d=Et.parse(t);return{protocol:n,host:s,port:o,path:St(u)||"/",query:new xt(f),hash:d}}else{const[n,i=""]=t.split("?"),a=Et.parse(t);return{protocol:window.location.protocol.replace(":",""),host:window.location.hostname,port:window.location.port,path:St(n)||"/",query:new xt(i),hash:a}}},e.path=t=>t.split("?")[0]})(At||(At={}));var te;(function(e){e.config=t=>{var r,n,i;return{tracing:(t==null?void 0:t.tracing)||void 0||!1,logging:{level:((r=t==null?void 0:t.logging)==null?void 0:r.level)||void 0||4,console:((n=t==null?void 0:t.logging)==null?void 0:n.console)||void 0,sink:((i=t==null?void 0:t.logging)==null?void 0:i.sink)||void 0}}},e.current=e.config()})(te||(te={}));var qe;(function(e){let t;(function(r){r[r.FATAL=-1]="FATAL",r[r.ERROR=1]="ERROR",r[r.INFO=2]="INFO",r[r.DEBUG=3]="DEBUG",r[r.TRACE=4]="TRACE",r[r.DISABLED=5]="DISABLED"})(t=e.LogLevel||(e.LogLevel={})),e.info=(...r)=>{e.log(t.INFO,...r)},e.debug=(...r)=>{e.log(t.DEBUG,...r)},e.error=(...r)=>{e.log(t.ERROR,...r)},e.trace=(...r)=>{e.log(t.TRACE,...r)},e.fatal=(...r)=>{throw e.log(t.FATAL,...r),new Error("Fatal error")},e.log=(r,...n)=>{r<=te.current.logging.level&&r!==t.DISABLED&&(te.current.logging.console&&(n.some(i=>i==null?void 0:i.toConsole)?n.forEach(i=>{var a;return(a=i==null?void 0:i.toConsole)==null?void 0:a.call(i,te.current.logging.level)}):te.current.logging.console&&console.log(...n)),te.current.logging.sink&&te.current.logging.sink(n))}})(qe||(qe={}));function Fa(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}const Rr=async e=>Fa(e)?await e():e();var Z,Ue,ht;class pr extends Map{constructor(){super(...arguments);ke(this,Ue);ke(this,Z,G(!1))}get size(){return h(F(this,Z)),super.size}add(r,n){if(this.has(r))throw new Error(`key ${r} already exists`);return this.set(r,n)}get(r){return h(F(this,Z)),super.get(r)}set(r,n){const i=super.set(r,n);return ut(this,Ue,ht).call(this),i}delete(r){const n=super.delete(r);return n&&ut(this,Ue,ht).call(this),n}clear(){const r=super.clear();return ut(this,Ue,ht).call(this),r}keys(){return h(F(this,Z)),super.keys()}values(){return h(F(this,Z)),super.values()}entries(){return h(F(this,Z)),super.entries()}forEach(r){return h(F(this,Z)),super.forEach(r)}[Symbol.iterator](){return h(F(this,Z)),super[Symbol.iterator]()}}Z=new WeakMap,Ue=new WeakSet,ht=function(){m(F(this,Z),!h(F(this,Z)))};var et;class Ma{constructor(t,r){E(this,"prefix");E(this,"id");E(this,"date");E(this,"name");E(this,"description");E(this,"metadata");ke(this,et,G(le(new pr)));this.prefix=r,this.name=t.name,this.id=t.id||Math.random().toString(36).substring(2,25),this.description=t.description,this.metadata=t.metadata,this.date=t.date||new Date}get traces(){return h(F(this,et))}set traces(t){m(F(this,et),t,!0)}trace(t,r){const n=t.id||Math.random().toString(36).substring(2,25);return t=new Ga(t,this.traces.size+1,this,r),this.traces.set(n,t),qe.trace(r,t),t}get(){return this.traces.values()}}et=new WeakMap;class Ga{constructor(t,r,n,i){E(this,"prefix");E(this,"id");E(this,"index");E(this,"date");E(this,"name");E(this,"description");E(this,"metadata");E(this,"span");this.id=t.id||Math.random().toString(36).substring(2,25),this.index=r,this.date=t.date||new Date,this.name=t.name,this.description=t.description,this.metadata=t.metadata,this.span=n,this.prefix=t.prefix}toConsole(t){var n,i,a;const r=["%c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s","color: #505050",(n=this.date)==null?void 0:n.toISOString(),"color: #7A7A7A","color: #915CF2; font-weight: bold",((i=this.span)==null?void 0:i.name)||this.id,"color: #7A7A7A; font-weight: bold","color: #C3F53B; font-weight: bold",this.index,"color: #7A7A7A; font-weight: bold","color: #3BAEF5; font-weight: bold",`${(a=this.metadata)!=null&&a.router?`[${this.metadata.router.id}] `:""}${this.name}`,"color: #06E96C",this.description];this.prefix&&(r[0]=`${this.prefix} %c%s %cspan:%c%s:%ctrace:%c%s%c:%c%s %c%s`),te.current.tracing.level===qe.LogLevel.TRACE?(r[0]+=`
%c%s`,r.push("color: #6B757F",`attached trace metadata:

${JSON.stringify({span:this.span.metadata,trace:this.metadata},null,2)}`)):te.current.tracing.level===qe.LogLevel.DEBUG&&(this.span&&r.push(this.span.metadata),this.metadata&&r.push(this.metadata)),console.log(...r)}}const Ua=new pr,dn=(e,t)=>{if(te.current.tracing){const r=new Ma({name:e,metadata:t});return Ua.set(e,r),r}};var tr;(function(e){e.base=(t,r)=>r.match(new RegExp(`^${t}(/|$)`))!==null})(tr||(tr={}));var $t;(function(e){e.from=t=>{if(typeof t=="string")return new RegExp(t);if(t instanceof RegExp)return new RegExp(t.source);throw new Error("invalid regexp expression")},e.can=t=>/[[\]{}()*+?.,\\^$|#\s]|\\[wWdDsS]|\(\?[:!=<]?/.test(t)})($t||($t={}));class Jt{constructor(t){E(this,"router");E(this,"route");E(this,"result");this.router=t.router,this.route=t.route,this.result=t.result}absolute(t=this.router.config.basePath){return t?`${t}${this.result.path.original}`:this.result.path.original}toString(){return`${this.absolute()}${this.result.querystring.original?`?${this.result.querystring.original}`:""}`}}var tt;const vr=class vr{constructor(t){E(this,"name");E(this,"basePath");E(this,"path");E(this,"querystring");E(this,"component");E(this,"props");E(this,"hooks");E(this,"children");E(this,"status");ke(this,tt,G(le([])));var r;this.name=t.name,this.basePath=t.basePath,this.path=typeof t.path=="string"?St(t.path):t.path,t.querystring&&(this.querystring=new xt(t.querystring)),this.component=t.component,this.props=t.props,this.hooks=t.hooks,this.status=t.status,this.children=(r=t.children)==null?void 0:r.map(n=>new vr(n))}get traces(){return h(F(this,tt))}set traces(t){m(F(this,tt),t,!0)}test(t){const r=At.path(t.toString());if(typeof this.path=="string")if($t.can(this.path)){const n=$t.from(this.path).exec(r);if(n)return{condition:"exact-match",params:n.groups}}else{if(this.path===r)return{condition:"exact-match",params:this.path};if(tr.base(this.path,r))return{condition:"base-match",params:{}}}else if(this.path instanceof RegExp){const n=Ze.any[g.regexp](this.path,r);if(n)return{condition:"exact-match",params:n}}else if(typeof this.path=="number"&&this.path===fe(r).value)throw new Error("numbered route match not supported at the route.path level");return{condition:"no-match",params:{}}}absolute(){return this.basePath?`${this.basePath}${this.path}`:this.path.toString()}};tt=new WeakMap;let rr=vr;class Ha{constructor(t){E(this,"id");E(this,"basePath");E(this,"routes");E(this,"hooks");E(this,"initialPath");E(this,"notFoundComponent");E(this,"children");E(this,"statuses");E(this,"renavigation");this.id=t.id||Math.random().toString(36).substring(2,15),this.basePath=t.basePath,this.hooks=t.hooks,this.initialPath=t.initialPath,this.notFoundComponent=t.notFoundComponent,this.statuses=t.statuses,this.routes=t.routes}}var me;(function(e){e[e.OK=200]="OK",e[e.PermanentRedirect=301]="PermanentRedirect",e[e.TemporaryRedirect=302]="TemporaryRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.InternalServerError=500]="InternalServerError"})(me||(me={}));var rt,nt;class Ba{constructor(t,r){E(this,"id");E(this,"routes",new Set);E(this,"handlers");E(this,"config");E(this,"applyFn");ke(this,rt,G(!1));ke(this,nt,G());this.id=t.id||Math.random().toString(36).substring(2,15),this.config=t,this.applyFn=r,this.handlers={pushStateHandler:()=>this.handleStateChange(location.toString()),replaceStateHandler:()=>this.handleStateChange(location.toString()),popStateHandler:()=>this.handleStateChange(location.toString()),hashChangeHandler:()=>this.handleStateChange(location.toString())},window.addEventListener("pushState",this.handlers.pushStateHandler),window.addEventListener("replaceState",this.handlers.replaceStateHandler),window.addEventListener("popstate",this.handlers.popStateHandler),window.addEventListener("hashchange",this.handlers.hashChangeHandler);for(let n of t.routes)this.routes.add(new rr({...n,basePath:n.basePath||this.config.basePath}))}get navigating(){return h(F(this,rt))}set navigating(t){m(F(this,rt),t,!0)}get current(){return h(F(this,nt))}set current(t){m(F(this,nt),t,!0)}async handleStateChange(t,r){var s,o,l,u,f,d;const{path:n,query:i}=At.parse(t);this.navigating=!0,r||(r=dn("detected history change event")),r==null||r.trace({prefix:"ðŸ”",name:"router-instance.handleStateChange",description:`attempting to handle a new state change for path "${n}"`,metadata:{router:{id:this.config.id,basePath:this.config.basePath},location:"/src/lib/router-instance.svelte:handleStateChange()",basePath:this.config.basePath,path:n,query:i,url:t}});const a=await this.get(n,i,r);if(a&&Vt.includes(a.result.path.condition)){if(r==null||r.trace({prefix:"âœ…",name:"router-instance.handleStateChange",description:`route found for path "${n}"`,metadata:{location:"/src/lib/router-instance.svelte:handleStateChange()",router:{id:this.config.id,basePath:this.config.basePath},path:n,query:(i==null?void 0:i.params)||!1,route:a,url:t}}),(s=this.config.hooks)!=null&&s.pre&&!await this.evaluateHooks(a,this.config.hooks.pre)){this.navigating=!1;return}if((l=(o=a.route)==null?void 0:o.hooks)!=null&&l.pre&&!await this.evaluateHooks(a,a.route.hooks.pre)){this.navigating=!1;return}if(this.applyFn(a,r),a&&((f=(u=a.route)==null?void 0:u.hooks)!=null&&f.post)&&!await this.evaluateHooks(a,a.route.hooks.post)){this.navigating=!1;return}(d=this.config.hooks)!=null&&d.post&&await this.evaluateHooks(a,this.config.hooks.post),this.current=a}this.navigating=!1}async evaluateHooks(t,r){if(Array.isArray(r))for(const n of r){if(!await Rr(()=>n(t)))return!1;await new Promise(i=>setTimeout(i,50))}else if(!await Rr(()=>r(t)))return!1;return!0}async get(t,r,n){var o;t=t.replace("/#","");const i=St(t.replace(this.config.basePath||"/","")),a=l=>{const u=Array.from(this.routes).find(f=>!f.path||f.path===""||f.path==="/");if(n==null||n.trace({prefix:u?"âœ…":"âŒ",name:"router-instance.getDefaultRoute",description:`get default route because "${l}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:t,query:r,normalized:i,route:u}}),u)return new Jt({router:this,route:u,result:{path:{condition:"default-match",original:t},querystring:{condition:"permitted-no-conditions",original:r==null?void 0:r.toJSON(),params:r==null?void 0:r.toJSON()},component:u.component,status:me.OK}})};if(n==null||n.trace({prefix:"ðŸ”",name:"router-instance.get",description:`${this.config.id} with base path "${this.config.basePath||"/"}" is attempting to get a route for path "${t}"`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:t,query:r,normalized:i}}),this.config.basePath===t)return a("base path is the same as the path");let s;for(const l of this.routes){const u=l.test(i);if(u&&Vt.includes(u.condition))if(n==null||n.trace({prefix:"âœ…",name:"router-instance.get:routesloop",description:`${u.condition} for inbound path "${t}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get():forloop",router:{id:this.config.id,basePath:this.config.basePath},path:t,query:r,normalized:i,route:l,evaluation:{path:u}}}),l.querystring&&r){const f=r.test(l.querystring);Vt.includes(f==null?void 0:f.condition)&&(n==null||n.trace({prefix:"âœ…",name:"router-instance.get.evaluateQuery",description:`${f==null?void 0:f.condition} evaluating querystring "${r==null?void 0:r.toString()}" for the route "${t}"${l.name?` (named: "${l.name}")`:""}`,metadata:{location:"/src/lib/router-instance.svelte:get()",router:{id:this.config.id,basePath:this.config.basePath},path:t,query:r,normalized:i,evaluation:{path:u,querystring:f}}}),s=new Jt({router:this,route:l,result:{path:{...u,original:i},querystring:{...f,original:r.toJSON()},component:l.component,status:me.OK}}))}else s=new Jt({router:this,route:l,result:{path:{...u,original:i},querystring:{condition:"permitted-no-conditions",original:r==null?void 0:r.toJSON(),params:r==null?void 0:r.toJSON()},component:l.component,status:me.OK}})}if(t==="/")return a("no routes match, last resort is to find a default route");if(!s&&((o=this.config.statuses)!=null&&o[404])){const l=this.config.statuses[404];return typeof l=="function"?{result:{...l({router:this,result:{path:{condition:"permitted-no-conditions",original:t},querystring:{condition:"permitted-no-conditions",original:r==null?void 0:r.toJSON(),params:r==null?void 0:r.toJSON()},status:me.NotFound}},n),path:{condition:"permitted-no-conditions",original:t},querystring:{condition:"permitted-no-conditions",original:r==null?void 0:r.toJSON(),params:r==null?void 0:r.toJSON()},status:me.NotFound},router:this}:{result:{...l,path:{condition:"permitted-no-conditions",original:t},querystring:{condition:"permitted-no-conditions",original:r==null?void 0:r.toJSON(),params:r==null?void 0:r.toJSON()},status:me.NotFound},router:this}}return s}deregister(t){window.removeEventListener("pushState",this.handlers.pushStateHandler),window.removeEventListener("replaceState",this.handlers.replaceStateHandler),window.removeEventListener("popstate",this.handlers.popStateHandler),window.removeEventListener("hashchange",this.handlers.hashChangeHandler),hn.deregister(this.config.id,t)}}rt=new WeakMap,nt=new WeakMap;class Va{constructor(){E(this,"instances",new pr);if(window.__SVELTE_SPA_ROUTER_REGISTERED__)return window.__SVELTE_SPA_ROUTER_REGISTERED__;window.__SVELTE_SPA_ROUTER_REGISTERED__=this;const{pushState:t,replaceState:r}=window.history;window.history.pushState=function(...n){t.apply(window.history,n),window.dispatchEvent(new Event("pushState"))},window.history.replaceState=function(...n){r.apply(window.history,n),window.dispatchEvent(new Event("replaceState"))}}register(t,r,n){if(this.instances.has(t.id))throw new Error(`router instance with id ${t.id} already registered`);const i=new Ba(t,r);return n&&n.trace({prefix:"ðŸ”",name:"registry.register",description:"registering a new router instance",metadata:{router:{id:t.id,basePath:t.basePath},location:"/src/lib/registry.svelte:register()",config:t}}),this.instances.set(t.id,i),i}deregister(t,r){const n=this.instances.get(t);if(r&&r.trace({prefix:n?"âœ…":"âŒ",name:"registry.deregister",description:"deregistering a router instance",metadata:{router:{id:t,basePath:n.config.basePath},location:"/src/lib/registry.svelte:deregister()",config:n.config}}),n)this.instances.delete(t);else throw new Error(`router instance with id ${t} not found`)}get(t){return this.instances.get(t)}}const hn=window.__SVELTE_SPA_ROUTER_REGISTRY__||new Va;function Ja(e,t){he(t,!0);let r=Ca(t,"instance"),n=Na(t,["$$slots","$$events","$$legacy","instance"]);const i=dn(t.id?`[${t.id}]`:"router");let a=G(null),s,o=G(void 0);const l=async(d,c)=>{if(m(o,d,!0),c==null||c.trace({prefix:"âœ…",name:"apply",description:`<Router${s.config.id?` id="${s.config.id}"`:""}/> applying route ${d.result.path.original} (${d.result.path.condition})`,metadata:{location:"/src/lib/router.svelte:apply()",router:{id:s.config.id,basePath:s.config.basePath},result:d}}),typeof d.result.component=="function"&&d.result.component.constructor.name==="AsyncFunction"){const p=await d.result.component();m(a,p.default||p,!0)}else m(a,d.result.component,!0)};s=hn.register(new Ha(n),l,i),i==null||i.trace({prefix:"âœ…",name:"<Router/> Component",description:"new component mounted",metadata:{router:{id:s.config.id,basePath:s.config.basePath},location:"/src/lib/router.svelte:mount()"}}),r(s),i&&(i.metadata={router:s.config.id}),s.handleStateChange(location.toString(),i),La(()=>{s.deregister(i)});var u=ga(),f=Fe(u);Sa(f,()=>h(a),(d,c)=>{c(d,{get route(){return h(o)}})}),R(e,u),pe()}function Ka(){const{subscribe:e,set:t}=Oa({user:null,isAuthenticated:!1});return{subscribe:e,load:()=>{const r=localStorage.getItem("user"),n=localStorage.getItem("token");t({user:r?JSON.parse(r):null,isAuthenticated:!!n})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t({user:null,isAuthenticated:!1})}}}const Ge=Ka();var za=C('<div class="flex justify-between items-center py-4 border-b last:border-b-0"><span class="font-medium"> </span> <span> </span></div>'),Wa=C('<main class="flex flex-col items-center space-y-6"><h1 class="text-2xl font-bold mt-2"> </h1> <a href="/game" class="w-50 text-center bg-blue-600 text-white px-4 py-2 rounded mb-4">Go to game</a> <h2 class="text-lg font-bold mt-5">Microservice Status:</h2> <div class="w-full max-w-sm bg-gray-100 rounded-lg p-4 shadow-md"></div></main>');function Ya(e,t){he(t,!1);const[r,n]=hr(),i=()=>dr(Ge,"$userStore",r),a=I(),s=[{name:"Auth Service",url:"http://localhost:8001"},{name:"Game Service",url:"http://localhost:8002"},{name:"Map/Image Service",url:"http://localhost:8003"},{name:"Score Service",url:"http://localhost:8004"},{name:"Email Notification Service",url:"http://localhost:8005"}];let o=I({});async function l(){const p={};for(const v of s)try{const b=await(await fetch(v.url)).json();p[v.name]=b.message}catch{p[v.name]="Error connecting"}m(o,p)}lt(()=>{l()}),Qe(()=>i(),()=>{m(a,i().user)}),cr(),Re();var u=Wa(),f=A(u),d=A(f),c=_(f,6);cn(c,5,()=>Object.entries(h(o)),un,(p,v)=>{let $=()=>h(v)[0],b=()=>h(v)[1];var w=za(),S=A(w),y=A(S),x=_(S,2),k=A(x);re(O=>{j(y,$()),$a(x,1,`${O??""} font-semibold`),j(k,b())},[()=>b().includes("Connected")?"text-green-600":"text-red-600"],lr),R(p,w)}),re(()=>j(d,`Hello ${h(a).name||"GeoGuessr Player"}!`)),R(e,u),pe(),n()}var Qa=C('<li class="p-4 flex justify-between"><span class="font-medium"> </span> <span class="text-gray-500"> </span> <span class="text-gray-500"> </span></li>'),Xa=C('<li class="p-4 text-center text-gray-500">No players found.</li>'),Za=C('<main class="flex flex-col items-center space-y-6 p-4"><h1 class="text-2xl font-bold">Leaderboard</h1> <p class="text-gray-600">Here you can see and search the leaderboard of the game.</p> <input type="text" placeholder="Search by name" class="w-full max-w-md p-2 border border-gray-300 rounded"> <ul class="w-full max-w-md bg-gray-100 shadow-md rounded-lg divide-y divide-gray-200"><!> <!></ul></main>');function qa(e,t){he(t,!1);let r=I([]),n=I("");lt(async()=>{try{const f=await fetch("http://localhost:8004/user/leaderboard");if(!f.ok)throw new Error("Failed to fetch leaderboard");const d=await f.json();m(r,d.top_scores.map(c=>({name:c.username,score:c.score,time:new Date(c.end_time).toLocaleString("en-GB",{dateStyle:"medium",timeStyle:"short"})})))}catch(f){console.error("Error loading leaderboard:",f)}}),Re();var i=Za(),a=_(A(i),4),s=_(a,2),o=A(s);cn(o,1,()=>h(r).filter(f=>f.name.toLowerCase().includes(h(n).toLowerCase())),un,(f,d)=>{var c=Qa(),p=A(c),v=A(p),$=_(p,2),b=A($),w=_($,2),S=A(w);re(()=>{j(v,h(d).name),j(b,h(d).score),j(S,h(d).time)}),R(f,c)});var l=_(o,2);{var u=f=>{var d=Xa();R(f,d)};W(l,f=>{h(r).filter(d=>d.name.toLowerCase().includes(h(n).toLowerCase())).length===0&&f(u)})}ue(a,()=>h(n),f=>m(n,f)),R(e,i),pe()}var ei=C(`<main class="flex flex-col items-center space-y-6 p-4"><h1 class="text-2xl font-bold">Login</h1> <p class="text-gray-600">Please enter your credentials to log in.</p> <form class="flex flex-col space-y-4"><input type="text" placeholder="Username" class="border border-gray-300 rounded px-4 py-2"> <input type="password" placeholder="Password" class="border border-gray-300 rounded px-4 py-2"> <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Login</button></form> <p class="text-sm">Don't have an account? <a href="/register" class="text-blue-500">Register</a></p></main>`);function Kt(e,t){he(t,!1);let r=I(""),n=I("");async function i(f){f.preventDefault();try{const d=await fetch("http://localhost:8001/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h(r),password:h(n)})}),c=await d.json();if(!d.ok)throw new Error(c.detail||"Login failed");if(!c.access_token||!c.username)throw new Error("Invalid login response");localStorage.setItem("token",c.access_token),localStorage.setItem("username",c.username),localStorage.setItem("user",JSON.stringify({name:c.username,email:c.email,country:c.country,age:c.age})),Ge.load(),window.location.href="/"}catch(d){alert(d.message||"An error occurred during login.")}}Re();var a=ei(),s=_(A(a),4),o=A(s),l=_(o,2),u=_(l,2);ue(o,()=>h(r),f=>m(r,f)),ue(l,()=>h(n),f=>m(n,f)),Me("click",u,i),R(e,a),pe()}var ti=C('<p class="text-red-500"> </p>'),ri=C('<main class="flex flex-col items-center space-y-6 p-4"><h1 class="text-2xl font-bold">Register on GeoGussr</h1> <p class="text-gray-600">Please fill out the form to create an account.</p> <form class="flex flex-col space-y-4"><input type="text" placeholder="Username" class="border border-gray-300 rounded px-4 py-2"> <input type="password" placeholder="Password" class="border border-gray-300 rounded px-4 py-2"> <input type="email" placeholder="Email" class="border border-gray-300 rounded px-4 py-2"> <input type="text" placeholder="Country" class="border border-gray-300 rounded px-4 py-2"> <input type="number" placeholder="Age" class="border border-gray-300 rounded px-4 py-2"> <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Register</button> <!></form> <p class="text-sm">Already have an account? <a href="/login" class="text-blue-500">Login</a></p></main>');function ni(e,t){he(t,!1);let r=I(""),n=I(""),i=I(""),a=I("Denmark"),s=I(""),o=I("");async function l(){try{const y=await fetch("http://localhost:8001/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h(r),password:h(n),email:h(i),country:h(a),age:h(s)})});if(!y.ok)throw new Error("Registration failed");const x=await y.json();window.location.href="/login",alert(`Registration successful! Welcome, ${x.username}`)}catch(y){m(o,y.message)}}Re();var u=ri(),f=_(A(u),4),d=A(f),c=_(d,2),p=_(c,2),v=_(p,2),$=_(v,2),b=_($,2),w=_(b,2);{var S=y=>{var x=ti(),k=A(x);re(()=>j(k,h(o))),R(y,x)};W(w,y=>{h(o)&&y(S)})}ue(d,()=>h(r),y=>m(r,y)),ue(c,()=>h(n),y=>m(n,y)),ue(p,()=>h(i),y=>m(i,y)),ue(v,()=>h(a),y=>m(a,y)),ue($,()=>h(s),y=>m(s,y)),Me("click",b,ka(l)),R(e,u),pe()}var ai=C('<p class="text-red-500 text-center"> </p>'),ii=C("<p><strong>Last Game Score:</strong> </p>"),si=C('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-white rounded-lg shadow p-6 space-y-4"><h2 class="text-xl font-semibold border-b pb-2">User Details</h2> <p><strong>Username:</strong> </p> <p><strong>Email:</strong> </p> <p><strong>Country:</strong> </p> <p><strong>Age:</strong> </p> <p><strong>Last Login:</strong> </p> <p><strong>Account Created:</strong> </p></div> <div class="bg-white rounded-lg shadow p-6 space-y-4"><h2 class="text-xl font-semibold border-b pb-2">Game Stats</h2> <p><strong>Games Played:</strong> </p> <p><strong>Total Score:</strong> </p> <p><strong>Average Score:</strong> </p> <!></div></div>'),oi=C('<p class="text-center">Loading profile...</p>'),li=C('<main class="p-6 max-w-5xl mx-auto"><h1 class="text-3xl font-bold mb-6 text-center">Profile - <span class="text-gray-500"> </span></h1> <!></main>');function ui(e,t){he(t,!1);const[r,n]=hr(),i=()=>dr(Ge,"$userStore",r),a=I(),s=I();let o=I(null),l=I("");async function u(){try{const w=await fetch(`http://localhost:8002/user/${h(a).name}/profile`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!w.ok)throw new Error(`Error: ${w.status} ${w.statusText}`);m(o,await w.json())}catch(w){m(l,"Failed to fetch profile information."),console.error(w)}}lt(()=>{h(s)?u():m(l,"You must be logged in to view your profile.")}),Qe(()=>i(),()=>{m(a,i().user)}),Qe(()=>i(),()=>{m(s,i().isAuthenticated)}),cr(),Re();var f=li(),d=A(f),c=_(A(d)),p=A(c),v=_(d,2);{var $=w=>{var S=ai(),y=A(S);re(()=>j(y,h(l))),R(w,S)},b=(w,S)=>{{var y=k=>{var O=si(),P=A(O),D=_(A(P),2),ee=_(A(D)),M=_(D,2),K=_(A(M)),V=_(M,2),oe=_(A(V)),ve=_(V,2),xe=_(A(ve)),Ee=_(ve,2),Se=_(A(Ee)),Te=_(Ee,2),jt=_(A(Te)),Ft=_(P,2),Q=_(A(Ft),2),Ae=_(A(Q)),Ne=_(Q,2),pn=_(A(Ne)),gr=_(Ne,2),vn=_(A(gr)),gn=_(gr,2);{var mn=Ke=>{var $e=ii(),Mt=_(A($e));re(()=>j(Mt,` ${h(o).history[h(o).history.length-1].score??""}`)),R(Ke,$e)};W(gn,Ke=>{var $e;($e=h(o).history)!=null&&$e.length&&Ke(mn)})}re((Ke,$e,Mt)=>{j(ee,` ${h(a).name??""}`),j(K,` ${h(a).email??""}`),j(oe,` ${h(a).country??""}`),j(xe,` ${h(a).age??""}`),j(Se,` ${Ke??""}`),j(jt,` ${$e??""}`),j(Ae,` ${h(o).games_played??""}`),j(pn,` ${h(o).total_score??""}`),j(vn,` ${Mt??""}`)},[()=>new Date(h(o).last_login).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),()=>new Date(h(o).created_at).toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),()=>h(o).average_score?h(o).average_score.toFixed(2):"N/A"],lr),R(k,O)},x=k=>{var O=oi();R(k,O)};W(w,k=>{h(o)?k(y):k(x,!1)},S)}};W(v,w=>{h(l)?w($):w(b,!1)})}re(()=>j(p,h(a).name)),R(e,f),pe(),n()}var ci=pa('<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&amp;callback=initStreetView&amp;v=weekly&amp;loading=async" async><\/script><!---->',1),fi=C('<button class="bg-red-600 text-white px-4 py-2 rounded">End Game</button>'),di=C('<p class="text-red-500">You must be logged in to play.</p>'),hi=C('<button class="w-full bg-blue-600 text-white px-4 py-2 rounded mb-2 hover:bg-blue-700 transition">Start Game</button>'),pi=C('<p class="text-sm text-gray-500 italic mt-1"> </p>'),vi=C('<p class="mt-2 text-lg font-semibold"> </p>'),gi=C('<div class="space-y-4"><div class="w-full h-64 rounded overflow-hidden border" id="streetview"></div> <!> <input type="text" class="w-full border px-3 py-2 rounded" placeholder="Enter your guess (e.g., France)"> <button class="bg-green-600 text-white px-4 py-2 rounded w-full">Submit Guess</button></div> <!>',1),mi=C("<!> <!>",1),_i=C('<main class="p-6 max-w-lg mx-auto"><div class="flex justify-between items-center mb-5"><h1 class="text-4xl font-bold">GeoGuessr Game</h1> <!></div> <!></main>');function bi(e,t){he(t,!1);let r=localStorage.getItem("username")||"Guest",n=!!localStorage.getItem("token"),i=I(!1),a=I(""),s=I(""),o=I("");function l(){const M=Math.random()*35+36,K=Math.random()*50+-10;return{lat:M,lng:K}}function u(O){new google.maps.Geocoder().geocode({location:O},(D,ee)=>{if(ee==="OK"&&D.length>0){const M=D[0].address_components.find(K=>K.types.includes("country"));M&&(m(o,M.long_name),console.log("Detected country:",h(o)))}else m(o,"Unknown")})}function f(){const O=new google.maps.StreetViewService,P=l();O.getPanorama({location:P,radius:100},(D,ee)=>{if(ee==="OK"){const M=D.location.latLng;new google.maps.StreetViewPanorama(document.getElementById("streetview"),{position:M,pov:{heading:0,pitch:0},disableDefaultUI:!1,addressControl:!1}),u(M)}else f()})}async function d(){const O=await fetch(`http://localhost:8002/user/${r}/start-game`,{method:"POST"}),P=await O.json();O.ok?(m(i,!0),m(s,""),m(o,""),setTimeout(()=>f(),0)):m(s,P.error||"Failed to start game.")}async function c(){const O=await fetch(`http://localhost:8002/user/${r}/guess`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guess:h(a),correctAnswer:h(o)})}),P=await O.json();if(O.ok){const D=P.correct;m(s,D?"ðŸŽ‰ Correct!":`âŒ Wrong! It was ${h(o)}`),D&&setTimeout(()=>{v()},2e3)}else m(s,P.error||"Failed to submit guess.");m(a,"")}async function p(){const O=await fetch(`http://localhost:8002/user/${r}/end-game`,{method:"POST"}),P=await O.json();O.ok?(m(s,"âœ… Game ended and saved!"),m(i,!1)):m(s,P.error||"Failed to end game.")}function v(){m(a,""),m(s,""),m(o,""),f()}Re();var $=_i();da(O=>{var P=ci();_(Fe(P)),R(O,P)});var b=A($),w=_(A(b),2);{var S=O=>{var P=fi();Me("click",P,p),R(O,P)};W(w,O=>{h(i)&&O(S)})}var y=_(b,2);{var x=O=>{var P=di();R(O,P)},k=O=>{var P=mi(),D=Fe(P);{var ee=V=>{var oe=hi();Me("click",oe,d),R(V,oe)};W(D,V=>{h(i)||V(ee)})}var M=_(D,2);{var K=V=>{var oe=gi(),ve=Fe(oe),xe=_(A(ve),2);{var Ee=Q=>{var Ae=pi(),Ne=A(Ae);re(()=>j(Ne,`[Dev only] Correct country: ${h(o)??""}`)),R(Q,Ae)};W(xe,Q=>{h(o)&&Q(Ee)})}var Se=_(xe,2),Te=_(Se,2),jt=_(ve,2);{var Ft=Q=>{var Ae=vi(),Ne=A(Ae);re(()=>j(Ne,h(s))),R(Q,Ae)};W(jt,Q=>{h(s)&&Q(Ft)})}ue(Se,()=>h(a),Q=>m(a,Q)),Me("click",Te,c),R(V,oe)};W(M,V=>{h(i)&&V(K)})}R(O,P)};W(y,O=>{n?O(k,!1):O(x)})}R(e,$),pe()}var yi=C('<a href="/game" class="text-white font-bold hover:text-cyan-400 transition-colors">Game</a> <a href="/profile" class="text-white font-bold hover:text-cyan-400 transition-colors">Profile</a>',1),wi=C('<span class="text-sm">Logged in as: <a href="/profile" class="text-cyan-400 hover:text-cyan-300 transition-colors font-bold"> </a></span> <button class="ml-4 bg-white text-black px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Logout</button>',1),xi=C('<div class="flex items-center gap-2"><a href="/register" class="text-white font-bold hover:text-cyan-400 transition-colors">Register</a> <span class="text-sm">/</span> <a href="/login" class="text-white font-bold hover:text-cyan-400 transition-colors">Login</a></div>'),Ei=C('<nav class="flex justify-between items-center bg-gray-800 text-white p-4 shadow-md"><div class="flex gap-5"><a href="/" class="text-white font-bold hover:text-cyan-400 transition-colors">Home</a> <a href="/leaderboard" class="text-white font-bold hover:text-cyan-400 transition-colors">Leaderboard</a> <!></div> <div><!></div></nav>');function Si(e,t){he(t,!1);const[r,n]=hr(),i=()=>dr(Ge,"$userStore",r);let a=I(),s=I();lt(()=>{Ge.load()});function o(){Ge.logout(),window.location.href="/login"}Qe(()=>i(),()=>{m(a,i().user)}),Qe(()=>i(),()=>{m(s,i().isAuthenticated)}),cr(),Re();var l=Ei(),u=A(l),f=_(A(u),4);{var d=b=>{var w=yi();R(b,w)};W(f,b=>{h(s)&&b(d)})}var c=_(u,2),p=A(c);{var v=b=>{var w=wi(),S=Fe(w),y=_(A(S)),x=A(y),k=_(S,2);re(()=>j(x,h(a).name)),Me("click",k,o),R(b,w)},$=b=>{var w=xi();R(b,w)};W(p,b=>{h(s)?b(v):b($,!1)})}R(e,l),pe(),n()}var Ai=C("<!> <!>",1);function $i(e){const t=!!localStorage.getItem("token"),r=[{path:"/",component:Ya},{path:"leaderboard",component:qa},{path:"login",component:Kt},{path:"register",component:ni},{path:"profile",component:t?ui:Kt},{path:"game",component:t?bi:Kt}];var n=Ai(),i=Fe(n);Si(i,{});var a=_(i,2);Ja(a,{routes:r}),R(e,n)}ma($i,{target:document.getElementById("app")});
